<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      
      <ion-button (click)="redirect()"><i class="fa fa-chevron-circle-left" aria-hidden="true" style="font-size: 1.5em;"></i>

       </ion-button>
    </ion-buttons>
    
    <ion-title >Adopción</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="emergencia" *ngIf="adopcion">
    
    <div class="tabs">
      <div class="mascota">
        <div class="imageMS">
          <ion-thumbnail style="width: 100%; height: 100%;" (click)="perfilMascota(adopcion.mascota._id)">
            <ion-img  class="card-img-top" src="https://fundacionesbckimg.s3.us-east-2.amazonaws.com/{{ 
              image[0].name}}" alt="Card image cap"></ion-img>
          </ion-thumbnail>
         
        </div>
        <div class="estado">
          <ion-label style="padding: 0 .5rem; margin: .5rem 0;" (click)="perfilFundacion(adopcion.fundacion._id)"><i class="fa fa-university" aria-hidden="true"></i> {{adopcion.fundacion.nombreFundacion}}</ion-label>

          <ion-chip [class.estP]="adopcion.estado == 0 || adopcion.estado == 1" [class.estA]="adopcion.estado == 2">
            <ion-icon name="checkmark-circle" *ngIf="adopcion.estado == 1"></ion-icon>
            <ion-icon name="close-circle" *ngIf="adopcion.estado == 2"></ion-icon>
            <ion-icon name="clock" *ngIf="adopcion.estado == 0"></ion-icon>

            <ion-label *ngIf="adopcion.estado == 0">pendiente</ion-label>
            <ion-label *ngIf="adopcion.estado == 1">aprobado</ion-label>
            <ion-label *ngIf="adopcion.estado == 2">negado</ion-label>
          </ion-chip>
          <ion-label style="padding: 0 .5rem; margin: .5rem 0;">Solicitado {{(adopcion.creadoEn | amFromUnix) | amLocale:'es' | amTimeAgo}}</ion-label>

        </div>
      </div>
     
        <mat-tab-group  (selectedIndexChange)="tabChanged($event)" mat-align-tabs="center">
            <mat-tab class="msc" >
                <ng-template mat-tab-label style="display: flex; flex-direction: column;">
                  <ion-icon style="font-size: 1rem !important;" name="paw"></ion-icon>
                  <span>Mascota</span>
                  </ng-template>
                  <ion-grid>
                    <ion-row>
                      <ion-col size="12">
                        <ion-item>
                          <ion-label>
                            Nombre: {{adopcion.mascota.nombre}}

                          </ion-label>
                          <i class="fa fa-address-card-o" aria-hidden="true"></i>
                          
                        </ion-item>
                      
                      </ion-col>
                      <ion-col size="12">
                        <ion-item>
                          <ion-label>
                            Especie: {{adopcion.mascota.especie}}

                          </ion-label>
                          <i  slot="end" class="fa fa-paw" aria-hidden="true"></i>
                        </ion-item>
                       </ion-col>
                     
                   
                    
                      
                      <ion-col size="12" style="text-align: justify !important; margin: 1rem;">

                        <i class="fa fa-free-code-camp" aria-hidden="true"></i> {{adopcion.mascota.descripcion}}
                     </ion-col>
                     <ion-col size="12" style="text-align: center !important; margin: 0">
                      <i (click)="perfilMascota(adopcion.mascota._id)" class="fa fa-chevron-circle-down" style="font-weight: bolder; color: #3bbfad; font-size: 2em;" aria-hidden="true"></i>
                    </ion-col>
                    </ion-row>
                  </ion-grid>

            </mat-tab>
            <mat-tab> 
                <ng-template mat-tab-label style="display: flex; flex-direction: column;">
                  <ion-icon style="font-size: 1rem !important;" name="person"></ion-icon>
                  <span>Datos personales</span>
                  </ng-template>
                  <ion-grid>
                    <ion-row>
                      <ion-col size="6">
                        <ion-item>
                          <ion-label>
                            {{adopcion.datosAdopcion.cedula}}

                          </ion-label>
                          <i  slot="end" class="fa fa-id-card-o" aria-hidden="true"></i>
                        </ion-item>
                      
                      </ion-col>
                      <ion-col size="6">
                        <ion-item>
                          <ion-label>
                            {{adopcion.adoptante.telefono}}

                          </ion-label>
                          <i  slot="end" class="fa fa-phone" aria-hidden="true"></i>
                        </ion-item>
                      
                      </ion-col>
                      <ion-col size="6">
                        <ion-item>
                          <ion-label>
                            {{adopcion.adoptante.celular}}

                          </ion-label>
                          <i  slot="end" class="fa fa-mobile" aria-hidden="true"></i>
                        </ion-item>
                      
                      </ion-col>
                      <ion-col size="6">
                        <ion-item>
                          <ion-label>
                            {{adopcion.datosAdopcion.instruccion}}

                          </ion-label>
                          <i  slot="end" class="fa fa-graduation-cap" aria-hidden="true"></i>
                        </ion-item>
                      
                      </ion-col>
                      <ion-col size="12">
                        <ion-item>
                          <ion-label>
                            {{adopcion.datosAdopcion.ocupacion}}

                          </ion-label>
                          <i  slot="end" class="fa fa-briefcase" aria-hidden="true"></i>
                        </ion-item>
                       </ion-col>
                      <ion-col size="12">
                        <ion-item>
                          <ion-label>
                            {{adopcion.datosAdopcion.inmueble}}

                          </ion-label>
                          <i  slot="end" class="fa fa-home" aria-hidden="true"></i>
                        </ion-item>
                      </ion-col>
                      <ion-col size="12">
                        <ion-item>
                          <ion-label>
                            {{adopcion.datosAdopcion.direccion.formmattedAddres}}

                          </ion-label>
                          <i  slot="end" class="fa fa-map-marker" aria-hidden="true"></i>
                        </ion-item>                     </ion-col>
                      <ion-col size="6">
                          Ref. Familiar: {{adopcion.datosAdopcion.nombresRP}}
                      </ion-col>
                      <ion-col size="6">
                         Tel. Familiar: {{adopcion.datosAdopcion.telefonoRP}}
                      </ion-col>
                     
                    </ion-row>
                  </ion-grid>

               
            </mat-tab>
            <mat-tab > 
                <ng-template mat-tab-label style="display: flex; flex-direction: column;">
                  <ion-icon style="font-size: 1rem !important;" name="clipboard"></ion-icon>
                  <span>Cuestionario</span>
                  </ng-template>
              
                  <div class="preguntas">
                    <mat-accordion>
                      <mat-expansion-panel>
                        <mat-expansion-panel-header>
                          <mat-panel-title>
                            Datos personales/económicos
                          </mat-panel-title>
                          
                        </mat-expansion-panel-header>
                        <div class="qs">
                          <ion-label>¿Porqué desea adoptar una mascota?</ion-label>
                          <p>{{adopcion.datosAdopcion.deseoAdoptar}}</p>
                          <ion-label>Si cambia de domicilio. ¿Qué pasaría con la mascota?</ion-label>
                          <p>{{adopcion.datosAdopcion.cambiarDomicilio}}</p>
                          <ion-label>¿Quién se hará cargo de los gastos de la mascota?</ion-label>
                          <p>{{adopcion.datosAdopcion.cargoGastos}}</p>
                          <ion-label>Estime cuánto dinero mensual podría gastar en su mascota:</ion-label>
                          <p>{{adopcion.datosAdopcion.dineroMensualMS}}</p>

                        </div>
                      </mat-expansion-panel>
                      <mat-expansion-panel >
                        <mat-expansion-panel-header>
                          <mat-panel-title>
                            Acerca de la mascota (casa/tiempo)
                          </mat-panel-title>
                         
                        </mat-expansion-panel-header>
                        <div class="qs">
                          <ion-label>¿El lugar donde pasará la mascota posee cerramiento?</ion-label>
                          <p>{{adopcion.datosAdopcion.cerramiento}}</p>
                          <ion-label>Si sale de viaje mas de un día la mascota:</ion-label>
                          <p>{{adopcion.datosAdopcion.salirViaje}}</p>
                          <ion-label>¿Cuánto tiempo al día pasará sola la mascota?</ion-label>
                          <p>{{adopcion.datosAdopcion.tiempoSolo}} horas</p>
                          <ion-label>¿Dónde dormirá la mascota?</ion-label>
                          <p>{{adopcion.datosAdopcion.dormirMS}}</p>
                        </div>

                      </mat-expansion-panel>
                      <mat-expansion-panel >
   <mat-expansion-panel-header>
     <mat-panel-title>
       Acerca de la mascota (comida/salud)
     </mat-panel-title>
    
   </mat-expansion-panel-header>
   <div class="qs">
     <ion-label>¿Qué comerá habitualmente la mascota?</ion-label>
     <p>{{adopcion.datosAdopcion.comidaMS}}</p>
     <ion-label>Si su mascota enferma usted:</ion-label>
     <p>{{adopcion.datosAdopcion.enfermaMS}}</p>
     <ion-label>¿Posee otras mascotas?</ion-label>
     <p>{{adopcion.datosAdopcion.numMascotas}}</p>
     <ion-label>¿En qué estado de salud están la/las mascotas?</ion-label>
     <p>{{adopcion.datosAdopcion.estadoMascotas}}</p>
   </div>

 </mat-expansion-panel>
<mat-expansion-panel >
<mat-expansion-panel-header>
<mat-panel-title>
Acerca de su familia
</mat-panel-title>

</mat-expansion-panel-header>
<div class="qs">
<ion-label>¿Cuántas personas viven con usted?</ion-label>
<p>{{adopcion.datosAdopcion.numPersonas}}</p>
<ion-label>¿Algún familiar espera un bebé?</ion-label>
<p>{{adopcion.datosAdopcion.familiarEmbarazo}}</p>
<ion-label>¿Algún familiar es alérgico a los animales o sufre de asma?</ion-label>
<p>{{adopcion.datosAdopcion.familiarAlergico}}</p>
<ion-label>¿Qué opina su familia de la adopción que desea realizar?</ion-label>
<p>{{adopcion.datosAdopcion.compartidaFamilia}}</p>
<ion-label>¿Está de acuerdo en qué podamos visitar su domicilio para verificar el estado de la mascota?</ion-label>
<p>{{adopcion.datosAdopcion.visitarDomicilio}}</p>

</div>

</mat-expansion-panel>
                    </mat-accordion>
                  
                  </div>
                  
            </mat-tab>
            <mat-tab *ngIf="adopcion.observaciones">
              <ng-template mat-tab-label style="display: flex; flex-direction: column;">
                <ion-icon name="bulb"></ion-icon>
                <span>Observaciones</span>
              </ng-template>

              <div class="obs" style="padding: 1rem;">
                <p>{{adopcion.observaciones}}</p>
              </div>
            </mat-tab>
          </mat-tab-group>
    </div>

  </div>
</ion-content>
